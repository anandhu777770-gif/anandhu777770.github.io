<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Crop Recommendation</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-green-100 to-green-300 min-h-screen flex items-center justify-center p-6 font-sans">

  <!-- Login/Register Card -->
  <div id="loginCard" class="bg-white rounded-2xl shadow-xl p-8 w-full max-w-md">
    <h2 id="loginTitle" class="text-2xl font-bold text-center text-green-700 mb-4">Login / Register</h2>

    <!-- User Type Toggle -->
    <div class="mb-4 text-center">
      <label class="mr-4">
        <input type="radio" name="userType" value="existing" checked> Existing User
      </label>
      <label>
        <input type="radio" name="userType" value="new"> New User
      </label>
    </div>

    <label class="block mb-2 font-medium" id="usernameLabel">Username</label>
    <input type="text" id="username" class="w-full p-3 mb-4 border rounded-lg">

    <label class="block mb-2 font-medium" id="passwordLabel">Password</label>
    <input type="password" id="password" class="w-full p-3 mb-4 border rounded-lg">

    <label class="block font-medium hidden" id="confirmPasswordLabel">Confirm Password</label>
    <input type="password" id="confirmPassword" class="w-full p-3 mb-4 border rounded-lg hidden">

    <label class="block mb-2 font-medium">Select Role</label>
    <select id="role" class="w-full mb-4 p-3 border rounded-lg">
      <option value="farmer">ğŸ‘¨â€ğŸŒ¾ Farmer</option>
      <option value="govt">ğŸ›ï¸ Government Official</option>
      <option value="business">ğŸ¢ Business Owner</option>
    </select>

    <label class="block mb-2 font-medium">Select Language</label>
    <select id="lang" class="w-full mb-6 p-3 border rounded-lg">
      <option value="en">English</option>
      <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
      <option value="bn">à¦¬à¦¾à¦‚à¦²à¦¾</option>
    </select>

    <button id="loginButton" onclick="loginOrRegister()" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition shadow-lg">
      Login
    </button>
  </div>

  <!-- Farmer Dashboard -->
  <div id="farmerDashboard" class="hidden bg-gray-50 rounded-2xl shadow-xl p-8 w-full max-w-lg">
    <div class="mb-6 text-center">
      <h2 id="farmerTitle" class="text-3xl font-bold text-green-800 mb-2"></h2>
      <p class="text-gray-700">Enter your farm details to get crop recommendations.</p>
    </div>

    <div class="space-y-4">
      <div class="bg-white shadow-md rounded-lg p-4">
        <label id="soilLabel" class="block font-semibold mb-1"></label>
        <input id="soil" class="w-full p-3 border rounded-lg" placeholder="Loamy/Clay/Sandy">
      </div>

      <div class="bg-white shadow-md rounded-lg p-4">
        <label id="rainLabel" class="block font-semibold mb-1"></label>
        <input id="rain" class="w-full p-3 border rounded-lg" placeholder="Rainfall in mm">
      </div>

      <div class="bg-white shadow-md rounded-lg p-4">
        <label id="tempLabel" class="block font-semibold mb-1"></label>
        <input id="temp" class="w-full p-3 border rounded-lg" placeholder="Temperature in Â°C">
      </div>
    </div>

    <button onclick="recommendCrop()" id="recommendBtn" class="mt-6 w-full bg-green-700 text-white py-3 rounded-lg hover:bg-green-800 transition shadow-lg">
    </button>

    <div id="result" class="mt-6 p-4 bg-green-100 rounded-lg text-green-900 font-semibold text-center shadow-inner"></div>
  </div>

  <!-- Government Dashboard -->
  <div id="govtDashboard" class="hidden bg-gray-50 rounded-2xl shadow-xl p-8 w-full max-w-lg">
    <div class="mb-6 text-center">
      <h2 id="govtTitle" class="text-3xl font-bold text-green-800 mb-2"></h2>
      <p class="text-gray-700">Overview of crop statistics in the region.</p>
    </div>

    <div class="bg-white shadow-md rounded-lg p-4">
      <table class="w-full text-left table-auto">
        <thead>
          <tr class="bg-green-100">
            <th class="p-2 font-semibold text-gray-800">Crop</th>
            <th class="p-2 font-semibold text-gray-800">Percentage</th>
          </tr>
        </thead>
        <tbody id="govtData" class="divide-y divide-gray-200"></tbody>
      </table>
    </div>
  </div>

  <!-- Business Dashboard -->
  <div id="businessDashboard" class="hidden bg-gray-50 rounded-2xl shadow-xl p-8 w-full max-w-lg">
    <div class="mb-6 text-center">
      <h2 id="bizTitle" class="text-3xl font-bold text-green-800 mb-2"></h2>
      <p class="text-gray-700">Market demand and emerging crop trends.</p>
    </div>

    <div id="bizData" class="grid grid-cols-1 gap-4"></div>
  </div>

<script>
  const users = [
    { username: "farmer1", password: "farmer123", role: "farmer" },
    { username: "govt1", password: "govt123", role: "govt" },
    { username: "biz1", password: "biz123", role: "business" }
  ];

  const translations = {
    en: {
      login: "Login",
      register: "Register",
      username: "Username",
      password: "Password",
      confirmPassword: "Confirm Password",
      farmer: "Farmer Dashboard",
      govt: "Government Dashboard",
      business: "Business Dashboard",
      soil: "Soil Type",
      rain: "Average Rainfall (mm)",
      temp: "Average Temperature (Â°C)",
      recommend: "Get Crop Recommendation",
      crops: "Recommended Crop: ",
      govtData: ["Rice â€“ 40%", "Wheat â€“ 25%", "Millet â€“ 15%", "Others â€“ 20%"],
      bizData: ["High demand: Rice, Wheat", "Medium: Millets", "Emerging: Pulses"]
    },
    hi: {
      login: "à¤²à¥‰à¤—à¤¿à¤¨",
      register: "à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¤°",
      username: "à¤‰à¤ªà¤¯à¥‹à¤—à¤•à¤°à¥à¤¤à¤¾ à¤¨à¤¾à¤®",
      password: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",
      confirmPassword: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤•à¥€ à¤ªà¥à¤·à¥à¤Ÿà¤¿ à¤•à¤°à¥‡à¤‚",
      farmer: "à¤•à¤¿à¤¸à¤¾à¤¨ à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡",
      govt: "à¤¸à¤°à¤•à¤¾à¤°à¥€ à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡",
      business: "à¤µà¥à¤¯à¤¾à¤ªà¤¾à¤° à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡",
      soil: "à¤®à¤¿à¤Ÿà¥à¤Ÿà¥€ à¤•à¤¾ à¤ªà¥à¤°à¤•à¤¾à¤°",
      rain: "à¤”à¤¸à¤¤ à¤µà¤°à¥à¤·à¤¾ (à¤®à¤¿à¤®à¥€)",
      temp: "à¤”à¤¸à¤¤ à¤¤à¤¾à¤ªà¤®à¤¾à¤¨ (Â°C)",
      recommend: "à¤«à¤¸à¤² à¤•à¥€ à¤¸à¤¿à¤«à¤¾à¤°à¤¿à¤¶ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚",
      crops: "à¤¸à¥à¤à¤¾à¤ˆ à¤—à¤ˆ à¤«à¤¸à¤²: ",
      govtData: ["à¤§à¤¾à¤¨ â€“ 40%", "à¤—à¥‡à¤¹à¥‚à¤ â€“ 25%", "à¤¬à¤¾à¤œà¤°à¤¾ â€“ 15%", "à¤…à¤¨à¥à¤¯ â€“ 20%"],
      bizData: ["à¤‰à¤šà¥à¤š à¤®à¤¾à¤‚à¤—: à¤§à¤¾à¤¨, à¤—à¥‡à¤¹à¥‚à¤", "à¤®à¤§à¥à¤¯à¤®: à¤¬à¤¾à¤œà¤°à¤¾", "à¤‰à¤­à¤°à¤¤à¥‡: à¤¦à¤¾à¤²à¥‡à¤‚"]
    },
    bn: {
      login: "à¦²à¦—à¦‡à¦¨",
      register: "à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨",
      username: "à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦°à¦•à¦¾à¦°à§€à¦° à¦¨à¦¾à¦®",
      password: "à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡",
      confirmPassword: "à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡ à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦•à¦°à§à¦¨",
      farmer: "à¦•à§ƒà¦·à¦• à¦¡à§à¦¯à¦¾à¦¶à¦¬à§‹à¦°à§à¦¡",
      govt: "à¦¸à¦°à¦•à¦¾à¦°à¦¿ à¦¡à§à¦¯à¦¾à¦¶à¦¬à§‹à¦°à§à¦¡",
      business: "à¦¬à§à¦¯à¦¬à¦¸à¦¾à¦¯à¦¼à¦¿à¦• à¦¡à§à¦¯à¦¾à¦¶à¦¬à§‹à¦°à§à¦¡",
      soil: "à¦®à¦¾à¦Ÿà¦¿à¦° à¦§à¦°à¦¨",
      rain: "à¦—à¦¡à¦¼ à¦¬à§ƒà¦·à§à¦Ÿà¦¿à¦ªà¦¾à¦¤ (à¦®à¦¿à¦®à¦¿)",
      temp: "à¦—à¦¡à¦¼ à¦¤à¦¾à¦ªà¦®à¦¾à¦¤à§à¦°à¦¾ (Â°C)",
      recommend: "à¦«à¦¸à¦²à§‡à¦° à¦ªà¦°à¦¾à¦®à¦°à§à¦¶ à¦¦à¦¿à¦¨",
      crops: "à¦ªà§à¦°à¦¸à§à¦¤à¦¾à¦¬à¦¿à¦¤ à¦«à¦¸à¦²: ",
      govtData: ["à¦§à¦¾à¦¨ â€“ 40%", "à¦—à¦® â€“ 25%", "à¦®à¦¿à¦²à§‡à¦Ÿ â€“ 15%", "à¦…à¦¨à§à¦¯à¦¾à¦¨à§à¦¯ â€“ 20%"],
      bizData: ["à¦¬à§‡à¦¶à¦¿ à¦šà¦¾à¦¹à¦¿à¦¦à¦¾: à¦§à¦¾à¦¨, à¦—à¦®", "à¦®à¦¾à¦à¦¾à¦°à¦¿: à¦®à¦¿à¦²à§‡à¦Ÿ", "à¦‰à¦¦à§€à¦¯à¦¼à¦®à¦¾à¦¨: à¦¡à¦¾à¦²"]
    }
  };

  let currentLang = "en";
  let currentRole = "farmer";

  // Toggle New / Existing User
  document.querySelectorAll('input[name="userType"]').forEach(radio => {
    radio.addEventListener('change', function() {
      const t = translations[currentLang];
      if (this.value === 'new') {
        document.getElementById('confirmPasswordLabel').classList.remove('hidden');
        document.getElementById('confirmPassword').classList.remove('hidden');
        document.getElementById('loginButton').innerText = t.register;
      } else {
        document.getElementById('confirmPasswordLabel').classList.add('hidden');
        document.getElementById('confirmPassword').classList.add('hidden');
        document.getElementById('loginButton').innerText = t.login;
      }
    });
  });

  function loginOrRegister() {
    const userType = document.querySelector('input[name="userType"]:checked').value;
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();
    currentLang = document.getElementById("lang").value;
    const selectedRole = document.getElementById("role").value;
    const t = translations[currentLang];

    // Update labels
    document.getElementById("usernameLabel").innerText = t.username;
    document.getElementById("passwordLabel").innerText = t.password;
    document.getElementById("confirmPasswordLabel").innerText = t.confirmPassword;

    if (userType === 'existing') {
      const user = users.find(u => u.username === username && u.password === password && u.role === selectedRole);
      if (!user) {
        alert("Invalid username, password, or role!");
        return;
      }
      currentRole = selectedRole;
    } else {
      const confirmPassword = document.getElementById("confirmPassword").value.trim();
      if (password !== confirmPassword) {
        alert("Passwords do not match!");
        return;
      }
      users.push({ username, password, role: selectedRole });
      alert("Registration successful! Please login.");
      document.querySelector('input[name="userType"][value="existing"]').checked = true;
      document.getElementById('confirmPasswordLabel').classList.add('hidden');
      document.getElementById('confirmPassword').classList.add('hidden');
      document.getElementById('loginButton').innerText = t.login;
      return; // stop here to let user login
    }

    // Hide login card and show dashboard
    document.getElementById("loginCard").classList.add("hidden");
    if (currentRole === "farmer") showFarmer();
    else if (currentRole === "govt") showGovt();
    else showBiz();
  }

  function showFarmer() {
    const t = translations[currentLang];
    document.getElementById("farmerTitle").innerText = t.farmer;
    document.getElementById("soilLabel").innerText = t.soil;
    document.getElementById("rainLabel").innerText = t.rain;
    document.getElementById("tempLabel").innerText = t.temp;
    document.getElementById("recommendBtn").innerText = t.recommend;
    document.getElementById("farmerDashboard").classList.remove("hidden");
  }

  function showGovt() {
    const t = translations[currentLang];
    document.getElementById("govtTitle").innerText = t.govt;
    const ul = document.getElementById("govtData");
    ul.innerHTML = "";
    t.govtData.forEach(item => {
      const parts = item.split(" â€“ ");
      const tr = document.createElement("tr");
      tr.innerHTML = `<td class="p-2">${parts[0]}</td><td class="p-2">${parts[1]}</td>`;
      ul.appendChild(tr);
    });
    document.getElementById("govtDashboard").classList.remove("hidden");
  }

  function showBiz() {
    const t = translations[currentLang];
    document.getElementById("bizTitle").innerText = t.business;
    const container = document.getElementById("bizData");
    container.innerHTML = "";
    t.bizData.forEach(item => {
      const card = document.createElement("div");
      card.className = "bg-white shadow-md rounded-lg p-4 border-l-4 border-green-600";
      card.innerText = item;
      container.appendChild(card);
    });
    document.getElementById("businessDashboard").classList.remove("hidden");
  }

  function recommendCrop() {
    const t = translations[currentLang];
    let soil = document.getElementById("soil").value.toLowerCase();
    let rainfall = parseInt(document.getElementById("rain").value) || 0;
    let temp = parseInt(document.getElementById("temp").value) || 0;

    let crop = "Wheat";
    if (soil.includes("loam") && rainfall > 800 && temp > 20) crop = "Rice";
    else if (soil.includes("clay") && rainfall < 600) crop = "Millet";
    else if (soil.includes("sandy")) crop = "Pulses";

    document.getElementById("result").innerText = t.crops + crop;
  }
</script>

</body>
</html>
