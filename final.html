<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Crop Recommendation</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-green-100 to-green-300 min-h-screen flex items-center justify-center p-6 font-sans">

  <!-- Login/Register Card -->
  <div id="loginCard" class="bg-white rounded-2xl shadow-xl p-8 w-full max-w-md">
    <h2 id="loginTitle" class="text-2xl font-bold text-center text-green-700 mb-4">Login / Register</h2>

    <!-- User Type Toggle -->
    <div class="mb-4 text-center">
      <label class="mr-4">
        <input type="radio" name="userType" value="existing" checked> Existing User
      </label>
      <label>
        <input type="radio" name="userType" value="new"> New User
      </label>
    </div>

    <label class="block mb-2 font-medium" id="usernameLabel">Username</label>
    <input type="text" id="username" class="w-full p-3 mb-4 border rounded-lg">

    <label class="block mb-2 font-medium" id="passwordLabel">Password</label>
    <input type="password" id="password" class="w-full p-3 mb-4 border rounded-lg">

    <label class="block font-medium hidden" id="confirmPasswordLabel">Confirm Password</label>
    <input type="password" id="confirmPassword" class="w-full p-3 mb-4 border rounded-lg hidden">

    <label class="block mb-2 font-medium">Select Role</label>
    <select id="role" class="w-full mb-4 p-3 border rounded-lg">
      <option value="farmer">üë®‚Äçüåæ Farmer</option>
      <option value="govt">üèõÔ∏è Government Official</option>
      <option value="business">üè¢ Business Owner</option>
    </select>

    <label class="block mb-2 font-medium">Select Language</label>
    <select id="lang" class="w-full mb-6 p-3 border rounded-lg">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
      <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
    </select>

    <button id="loginButton" onclick="loginOrRegister()" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition shadow-lg">
      Login
    </button>
  </div>

  <!-- Farmer Dashboard -->
  <div id="farmerDashboard" class="hidden bg-gray-50 rounded-2xl shadow-xl p-8 w-full max-w-lg">
    <div class="mb-6 text-center">
      <h2 id="farmerTitle" class="text-3xl font-bold text-green-800 mb-2"></h2>
      <p class="text-gray-700">Enter your farm details to get crop recommendations.</p>
    </div>

    <div class="space-y-4">
      <div class="bg-white shadow-md rounded-lg p-4">
        <label id="soilLabel" class="block font-semibold mb-1"></label>
        <input id="soil" class="w-full p-3 border rounded-lg" placeholder="Loamy/Clay/Sandy">
      </div>

      <div class="bg-white shadow-md rounded-lg p-4">
        <label id="rainLabel" class="block font-semibold mb-1"></label>
        <input id="rain" class="w-full p-3 border rounded-lg" placeholder="Rainfall in mm">
      </div>

      <div class="bg-white shadow-md rounded-lg p-4">
        <label id="tempLabel" class="block font-semibold mb-1"></label>
        <input id="temp" class="w-full p-3 border rounded-lg" placeholder="Temperature in ¬∞C">
      </div>
    </div>

    <button onclick="recommendCrop()" id="recommendBtn" class="mt-6 w-full bg-green-700 text-white py-3 rounded-lg hover:bg-green-800 transition shadow-lg">
    </button>

    <div id="result" class="mt-6 p-4 bg-green-100 rounded-lg text-green-900 font-semibold text-center shadow-inner"></div>
  </div>

  <!-- Government Dashboard -->
  <div id="govtDashboard" class="hidden bg-gray-50 rounded-2xl shadow-xl p-8 w-full max-w-lg">
    <div class="mb-6 text-center">
      <h2 id="govtTitle" class="text-3xl font-bold text-green-800 mb-2"></h2>
      <p class="text-gray-700">Overview of crop statistics in the region.</p>
    </div>

    <div class="bg-white shadow-md rounded-lg p-4">
      <table class="w-full text-left table-auto">
        <thead>
          <tr class="bg-green-100">
            <th class="p-2 font-semibold text-gray-800">Crop</th>
            <th class="p-2 font-semibold text-gray-800">Percentage</th>
          </tr>
        </thead>
        <tbody id="govtData" class="divide-y divide-gray-200"></tbody>
      </table>
    </div>
  </div>

  <!-- Business Dashboard -->
  <div id="businessDashboard" class="hidden bg-gray-50 rounded-2xl shadow-xl p-8 w-full max-w-lg">
    <div class="mb-6 text-center">
      <h2 id="bizTitle" class="text-3xl font-bold text-green-800 mb-2"></h2>
      <p class="text-gray-700">Market demand and emerging crop trends.</p>
    </div>

    <div id="bizData" class="grid grid-cols-1 gap-4"></div>
  </div>

<script>
  const users = [
    { username: "farmer1", password: "farmer123", role: "farmer" },
    { username: "govt1", password: "govt123", role: "govt" },
    { username: "biz1", password: "biz123", role: "business" }
  ];

  const translations = {
    en: {
      login: "Login",
      register: "Register",
      username: "Username",
      password: "Password",
      confirmPassword: "Confirm Password",
      farmer: "Farmer Dashboard",
      govt: "Government Dashboard",
      business: "Business Dashboard",
      soil: "Soil Type",
      rain: "Average Rainfall (mm)",
      temp: "Average Temperature (¬∞C)",
      recommend: "Get Crop Recommendation",
      crops: "Recommended Crop: ",
      govtData: ["Rice ‚Äì 40%", "Wheat ‚Äì 25%", "Millet ‚Äì 15%", "Others ‚Äì 20%"],
      bizData: ["High demand: Rice, Wheat", "Medium: Millets", "Emerging: Pulses"]
    },
    hi: {
      login: "‡§≤‡•â‡§ó‡§ø‡§®",
      register: "‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞",
      username: "‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§®‡§æ‡§Æ",
      password: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°",
      confirmPassword: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§ï‡•Ä ‡§™‡•Å‡§∑‡•ç‡§ü‡§ø ‡§ï‡§∞‡•á‡§Ç",
      farmer: "‡§ï‡§ø‡§∏‡§æ‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
      govt: "‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
      business: "‡§µ‡•ç‡§Ø‡§æ‡§™‡§æ‡§∞ ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
      soil: "‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞",
      rain: "‡§î‡§∏‡§§ ‡§µ‡§∞‡•ç‡§∑‡§æ (‡§Æ‡§ø‡§Æ‡•Ä)",
      temp: "‡§î‡§∏‡§§ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® (¬∞C)",
      recommend: "‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç",
      crops: "‡§∏‡•Å‡§ù‡§æ‡§à ‡§ó‡§à ‡§´‡§∏‡§≤: ",
      govtData: ["‡§ß‡§æ‡§® ‚Äì 40%", "‡§ó‡•á‡§π‡•Ç‡§Å ‚Äì 25%", "‡§¨‡§æ‡§ú‡§∞‡§æ ‚Äì 15%", "‡§Ö‡§®‡•ç‡§Ø ‚Äì 20%"],
      bizData: ["‡§â‡§ö‡•ç‡§ö ‡§Æ‡§æ‡§Ç‡§ó: ‡§ß‡§æ‡§®, ‡§ó‡•á‡§π‡•Ç‡§Å", "‡§Æ‡§ß‡•ç‡§Ø‡§Æ: ‡§¨‡§æ‡§ú‡§∞‡§æ", "‡§â‡§≠‡§∞‡§§‡•á: ‡§¶‡§æ‡§≤‡•á‡§Ç"]
    },
    bn: {
      login: "‡¶≤‡¶ó‡¶á‡¶®",
      register: "‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶®",
      username: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ",
      password: "‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°",
      confirmPassword: "‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®",
      farmer: "‡¶ï‡ßÉ‡¶∑‡¶ï ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°",
      govt: "‡¶∏‡¶∞‡¶ï‡¶æ‡¶∞‡¶ø ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°",
      business: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°",
      soil: "‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶ß‡¶∞‡¶®",
      rain: "‡¶ó‡¶°‡¶º ‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶™‡¶æ‡¶§ (‡¶Æ‡¶ø‡¶Æ‡¶ø)",
      temp: "‡¶ó‡¶°‡¶º ‡¶§‡¶æ‡¶™‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ (¬∞C)",
      recommend: "‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶™‡¶∞‡¶æ‡¶Æ‡¶∞‡ßç‡¶∂ ‡¶¶‡¶ø‡¶®",
      crops: "‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§ ‡¶´‡¶∏‡¶≤: ",
      govtData: ["‡¶ß‡¶æ‡¶® ‚Äì 40%", "‡¶ó‡¶Æ ‚Äì 25%", "‡¶Æ‡¶ø‡¶≤‡ßá‡¶ü ‚Äì 15%", "‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‚Äì 20%"],
      bizData: ["‡¶¨‡ßá‡¶∂‡¶ø ‡¶ö‡¶æ‡¶π‡¶ø‡¶¶‡¶æ: ‡¶ß‡¶æ‡¶®, ‡¶ó‡¶Æ", "‡¶Æ‡¶æ‡¶ù‡¶æ‡¶∞‡¶ø: ‡¶Æ‡¶ø‡¶≤‡ßá‡¶ü", "‡¶â‡¶¶‡ßÄ‡¶Ø‡¶º‡¶Æ‡¶æ‡¶®: ‡¶°‡¶æ‡¶≤"]
    }
  };

  let currentLang = "en";
  let currentRole = "farmer";

  // Toggle New / Existing User
  document.querySelectorAll('input[name="userType"]').forEach(radio => {
    radio.addEventListener('change', function() {
      const t = translations[currentLang];
      if (this.value === 'new') {
        document.getElementById('confirmPasswordLabel').classList.remove('hidden');
        document.getElementById('confirmPassword').classList.remove('hidden');
        document.getElementById('loginButton').innerText = t.register;
      } else {
        document.getElementById('confirmPasswordLabel').classList.add('hidden');
        document.getElementById('confirmPassword').classList.add('hidden');
        document.getElementById('loginButton').innerText = t.login;
      }
    });
  });

  function loginOrRegister() {
    const userType = document.querySelector('input[name="userType"]:checked').value;
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();
    currentLang = document.getElementById("lang").value;
    const selectedRole = document.getElementById("role").value;
    const t = translations[currentLang];

    // Update labels
    document.getElementById("usernameLabel").innerText = t.username;
    document.getElementById("passwordLabel").innerText = t.password;
    document.getElementById("confirmPasswordLabel").innerText = t.confirmPassword;

    if (userType === 'existing') {
      const user = users.find(u => u.username === username && u.password === password && u.role === selectedRole);
      if (!user) {
        alert("Invalid username, password, or role!");
        return;
      }
      currentRole = selectedRole;
    } else {
      const confirmPassword = document.getElementById("confirmPassword").value.trim();
      if (password !== confirmPassword) {
        alert("Passwords do not match!");
        return;
      }
      users.push({ username, password, role: selectedRole });
      alert("Registration successful! Please login.");
      document.querySelector('input[name="userType"][value="existing"]').checked = true;
      document.getElementById('confirmPasswordLabel').classList.add('hidden');
      document.getElementById('confirmPassword').classList.add('hidden');
      document.getElementById('loginButton').innerText = t.login;
      return; // stop here to let user login
    }

    // Hide login card and show dashboard
    document.getElementById("loginCard").classList.add("hidden");
    if (currentRole === "farmer") showFarmer();
    else if (currentRole === "govt") showGovt();
    else showBiz();
  }

  function showFarmer() {
    const t = translations[currentLang];
    document.getElementById("farmerTitle").innerText = t.farmer;
    document.getElementById("soilLabel").innerText = t.soil;
    document.getElementById("rainLabel").innerText = t.rain;
    document.getElementById("tempLabel").innerText = t.temp;
    document.getElementById("recommendBtn").innerText = t.recommend;
    document.getElementById("farmerDashboard").classList.remove("hidden");
  }

  function showGovt() {
    const t = translations[currentLang];
    document.getElementById("govtTitle").innerText = t.govt;
    const ul = document.getElementById("govtData");
    ul.innerHTML = "";
    t.govtData.forEach(item => {
      const parts = item.split(" ‚Äì ");
      const tr = document.createElement("tr");
      tr.innerHTML = `<td class="p-2">${parts[0]}</td><td class="p-2">${parts[1]}</td>`;
      ul.appendChild(tr);
    });
    document.getElementById("govtDashboard").classList.remove("hidden");
  }

  function showBiz() {
    const t = translations[currentLang];
    document.getElementById("bizTitle").innerText = t.business;
    const container = document.getElementById("bizData");
    container.innerHTML = "";
    t.bizData.forEach(item => {
      const card = document.createElement("div");
      card.className = "bg-white shadow-md rounded-lg p-4 border-l-4 border-green-600";
      card.innerText = item;
      container.appendChild(card);
    });
    document.getElementById("businessDashboard").classList.remove("hidden");
  }

  function recommendCrop() {
    const t = translations[currentLang];
    let soil = document.getElementById("soil").value.toLowerCase();
    let rainfall = parseInt(document.getElementById("rain").value) || 0;
    let temp = parseInt(document.getElementById("temp").value) || 0;

    let crop = "Wheat";
    if (soil.includes("loam") && rainfall > 800 && temp > 20) crop = "Rice";
    else if (soil.includes("clay") && rainfall < 600) crop = "Millet";
    else if (soil.includes("sandy")) crop = "Pulses";

    document.getElementById("result").innerText = t.crops + crop;
  }
</script>

</body>
</html>
